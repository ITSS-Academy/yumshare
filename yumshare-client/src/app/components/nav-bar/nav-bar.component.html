<div class="navbar">
  <!-- Left side: Menu button -->
  <div class="left-section">
    <button mat-icon-button class="menu-btn" (click)="onToggleSidebar()">
      <mat-icon>menu</mat-icon>
    </button>
  </div>

  <!-- Center: Empty space -->
  <div class="center-section">
    <!-- Empty center for balance -->
  </div>

  <!-- Right side: Action icons and language toggle -->
  <div class="right-section">
    <button 
      mat-icon-button 
      (click)="openSearchModal()" 
      [matTooltip]="'Search' | translate"
      class="search-icon-btn">
      <mat-icon>search</mat-icon>
    </button>
    
    @if (isLoggedIn) {
      <button mat-icon-button [matTooltip]="'Add Recipe' | translate" aria-label="Add Recipe" (click)="onAddRecipe()">
        <mat-icon>add</mat-icon>
      </button>
      <button mat-icon-button [matTooltip]="'Messages' | translate" aria-label="Messages" [matBadgeHidden]="(messageCount$ | async) === 0" (click)="onMessage()" [matBadge]="messageCount$ | async" matBadgeColor="warn" matBadgeOverlap="false">
        <mat-icon>mail</mat-icon>
      </button>
      <button mat-icon-button [matTooltip]="'Notifications' | translate" aria-label="Notifications" (click)="onNotification()" [matBadgeHidden]="(notificationCount$ | async) === 0" [matBadge]="notificationCount$ | async" matBadgeColor="warn" matBadgeOverlap="false">
        <mat-icon>notifications</mat-icon>
      </button>
      <button class="avatar-btn" mat-icon-button [matTooltip]="'Profile' | translate" aria-label="Profile" (click)="onProfile()">
        @if (userAvatar) {
          <img class="avatar" [src]="userAvatar" alt="avatar" />
        } @else {
          <mat-icon>person</mat-icon>
        }
      </button>
    } @else {
      <button mat-icon-button [matTooltip]="'Post Recipe' | translate" aria-label="Add Recipe" (click)="openLogin()">
        <mat-icon>add</mat-icon>
      </button>
      <button mat-icon-button [matTooltip]="'Login' | translate" aria-label="Login" (click)="openLogin()">
        <mat-icon>login</mat-icon>
      </button>
    }
    
    <!-- Language toggle at the end -->
    <div class="custom-lang-toggle" (click)="switchLang(currentLang === 'en' ? 'vi' : 'en')">
      <span class="toggle-option" [class.active]="currentLang === 'en'">ENG</span>
      <span class="toggle-option" [class.active]="currentLang === 'vi'">VIE</span>
    </div>
  </div>
</div>